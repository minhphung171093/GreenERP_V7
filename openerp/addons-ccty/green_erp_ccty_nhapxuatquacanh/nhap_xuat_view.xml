<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    	<record id="nhap_xuat_search" model="ir.ui.view">
	        <field name="name">nhap.xuat.search</field>
	        <field name="model">nhap.xuat</field>
	        <field name="type">search</field>
	        <field name="arch" type="xml">
	            <search string="Nhập xuất">
	                <group>
	                	<field name="name" />
	                    <field name="chu_hang" />
	            		<field name="loai_hinh" />
	                    <field name="loai_hang" />
	                    <field name="ngay_nhap_xuat" />
	                    <field name="soluong" />                    
	                    <field name="noi_xuat_phat" />
	                    <field name="noi_nhan" />
	                    <field name="so_xe" />
	                </group>
	            </search>	
	        </field>
	    </record>
    
        <record model="ir.ui.view" id="nhap_xuat_tree">
            <field name="name">nhap.xuat.tree</field>
            <field name="model">nhap.xuat</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Nhập xuất">
                	<field name="name" />
                	<field name="chu_hang" />
            		<field name="loai_hinh" />
                    <field name="loai_hang" />
                    <field name="ngay_nhap_xuat" />
                    <field name="soluong" />                    
                    <field name="noi_xuat_phat" />
                    <field name="noi_nhan" />
                    <field name="so_xe" />
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="nhap_xuat_form">
            <field name="name">nhap.xuat.form</field>
            <field name="model">nhap.xuat</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Nhập xuất" version="7.0">
	                <sheet>
                		<group col="4"  string="Thông tin nhập xuất quá cảnh">
                			<field name="name" />
		            		<field name="chu_hang" />
		            		<field name="loai_hinh" />
		                    <field name="loai_hang" />
		                    <field name="ngay_nhap_xuat" />
		                    <field name="soluong" />                    
		                    <field name="noi_xuat_phat" />
		                    <field name="noi_nhan" />
		                    <field name="so_xe" />
                		</group>
	                </sheet>
                </form>
            </field>
        </record>
       
        <record model="ir.actions.act_window" id="action_nhap_xuat">
            <field name="name">Thông tin nhập xuất quá cảnh</field>
            <field name="res_model">nhap.xuat</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>


    	<record id="nhap_xuat_canh_giasuc_search" model="ir.ui.view">
	        <field name="name">nhap.xuat.canh.giasuc.search</field>
	        <field name="model">nhap.xuat.canh.giasuc</field>
	        <field name="type">search</field>
	        <field name="arch" type="xml">
	            <search string="Nhập Xuất động vật">
	                <group>
	                	<field name="name" />
	                    <field name="loai_id" />
	            		<field name="ngay_cap" />
	                    <field name="ten_ho_id" />
	                    <field name="nguon_tinh_thanh_id" />
	                    <field name="phuong_xa_id" />
	                    <field name="khu_pho_id" />                    
	                    <field name="quan_huyen_id" />
	                    <field name="loai" />
	                    <field name="company_id" />
	                    <field name="can_bo_id" />
	                    <field name="can_bo_ghi_so" />
	                </group>
	                <separator/>
                    <group expand="0" string="Group By...">
                    	<filter string="Tỉnh/Thành Phố" domain="[]" context="{'group_by':'nguon_tinh_thanh_id'}"/>
                        <filter string="Quận (huyện)" domain="[]" context="{'group_by':'quan_huyen_id'}"/>
                        <filter string="Phường (xã)" domain="[]"  context="{'group_by':'phuong_xa_id'}"/>
                        <filter string="Khu phố (ấp)" domain="[]" context="{'group_by':'khu_pho_id'}"/>
                        <filter string="Loài" domain="[]"  context="{'group_by':'loai_id'}"/>
                        <filter string="Hộ" domain="[]"  context="{'group_by':'ten_ho_id'}"/>
                        <filter string="Ngày cấp" domain="[]"  context="{'group_by':'ngay_cap'}"/>
                        <filter string="Cán bộ" domain="[]"  context="{'group_by':'can_bo_id'}"/>
                        <filter string="Trạm" domain="[]"  context="{'group_by':'company_id'}"/>
                    </group>
	            </search>	
	        </field>
	    </record>
    
        <record model="ir.ui.view" id="nhap_canh_giasuc_tree">
            <field name="name">nhap.canh.giasuc.tree</field>
            <field name="model">nhap.xuat.canh.giasuc</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Nhập động vật">
                	<field name="name" />
                	<field name="loai_id" />
                	<field name="ngay_cap" />
                	<field name="can_bo_ghi_so" />
                	<field name="can_bo_id" />
                	<field name="company_id" string = 'Trạm'/>
                	<field name="ngay_kiem_tra" />
                	<field name="nguon_tinh_thanh_id" />
                    <field name="quan_huyen_id" />
                    <field name="phuong_xa_id" />
                    <field name="khu_pho_id" />                    
                    <field name="ten_ho_id" />
                    <field name="loai" invisible = '1'/>
                    <field name="trang_thai_id" />
                    <field name="hien_an" invisible = '1'/>
                    <field name="chinh_sua_rel" invisible = '1'/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="nhap_canh_giasuc_form">
            <field name="name">nhap.canh.giasuc.form</field>
            <field name="model">nhap.xuat.canh.giasuc</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Nhập động vật" version="7.0">
                	<header>
	            		<button name="bt_duyet" groups = "green_erp_ccty_nhapxuatquacanh.group_nhapxuat_manager" attrs="{'invisible': [('hien_an', '!=', True)]}" string="Duyệt" type="object" class="oe_highlight" />
	                    <field name="trang_thai_id" widget="statusbar"/>
	            	</header> 
	                <sheet>
                		<group col='4' colspan='2'>
                			<group >
                			<field name="name" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                	<field name="loai_id" options="{'create': false, 'create_edit': false}" on_change = "onchange_chon_loai(loai_id)" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		            		<field name="ngay_cap" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		            		<field name="can_bo_ghi_so" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		            		</group>
		            		<group>
		                	<field name="company_id" readonly = '1' string = 'Trạm' attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                	<field name="can_bo_id" readonly = '1' domain="[('company_id','=',company_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                	<field name="ngay_kiem_tra" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                	
		                	</group>
		                	<newline/> 
		                	<group string="Nguồn">
			                	<field name="nguon_tinh_thanh_id" options="{'create': false, 'create_edit': false}" on_change="onchange_nguon_tinh_thanh()" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
			                    <field name="nguon_quan_huyen_id" options="{'create': false, 'create_edit': false}" on_change="onchange_nguon_quan_huyen()" domain="[('tinh_thanh_id','=',nguon_tinh_thanh_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
			                    <field name="nguon_phuong_xa_id" options="{'create': false, 'create_edit': false}" on_change="onchange_nguon_phuong_xa()" domain="[('quan_huyen_id','=',nguon_quan_huyen_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
			                    <field name="nguon_khu_pho_id" options="{'create': false, 'create_edit': false}"  domain="[('phuong_xa_id','=',nguon_phuong_xa_id), ('quan_huyen_id','=',nguon_quan_huyen_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                    </group>
		                    
		              		<group string="Nhập vào">
			                    <field name="quan_huyen_id" options="{'create': false, 'create_edit': false}" on_change="onchange_quan_huyen()" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
			                    <field name="phuong_xa_id" options="{'create': false, 'create_edit': false}" on_change="onchange_phuong_xa()" domain="[('quan_huyen_id','=',quan_huyen_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
			                    <field name="khu_pho_id" options="{'create': false, 'create_edit': false}" on_change="onchange_khu_pho()" domain="[('phuong_xa_id','=',phuong_xa_id), ('quan_huyen_id','=',quan_huyen_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
								<field name="ten_ho_id" options="{'create': false, 'create_edit': false}" context="{'search_ten_ho_id':True}" domain="[('quan_huyen_id','=',quan_huyen_id), ('phuong_xa_id','=',phuong_xa_id), ('khu_pho_id','=',khu_pho_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>		                    
		                    </group>
		                    <field name="loai" invisible = '1' />
		                    <field name="hien_an" invisible = '1' />
		                    <field name="chinh_sua_rel" invisible = '1' />
                		</group>
                		<notebook>
							<page string = "Thông tin chi tiết Nhập động vật">
								<field name="chitiet_loai_nx" nolabel='1' attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}">
									<tree editable='bottom' create = 'false'>
										<field name="name"/>
										<field name="so_luong" sum = 'Total'/>
									</tree>
								</field>
							</page>
							<page string = "Đã tiêm phòng">
								<field name="chitiet_da_tiem_phong" nolabel='1' attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}">
									<tree editable='bottom' create = 'false'>
										<field name="name"/>
										<field name="so_luong" sum = 'Total'/>
									</tree>
								</field>
							</page>
						</notebook>
	                </sheet>
                </form>
            </field>
        </record>
       
        <record model="ir.actions.act_window" id="action_nhap_canh_giasuc">
            <field name="name">Nhập động vật</field>
            <field name="res_model">nhap.xuat.canh.giasuc</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('loai', '=', 'nhap')]</field>
            <field name="context">{'default_loai':'nhap'}</field>
            <field eval="False" name="view_id" ref="nhap_canh_giasuc_tree"/>
        </record>
        
        <record id="action_nhap_canh_giasuc1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="nhap_canh_giasuc_tree"/>
            <field name="act_window_id" ref="action_nhap_canh_giasuc"/>
        </record>
        <record id="action_nhap_canh_giasuc2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="nhap_canh_giasuc_form"/>
            <field name="act_window_id" ref="action_nhap_canh_giasuc"/>
        </record>
        
        <record model="ir.ui.view" id="xuat_canh_giasuc_tree">
            <field name="name">xuat.canh.giasuc.tree</field>
            <field name="model">nhap.xuat.canh.giasuc</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Xuất động vật">
                	<field name="name" />
                	<field name="loai_id" />
            		<field name="ngay_cap" />
            		<field name="can_bo_ghi_so" />
            		<field name="company_id" string = 'Trạm'/>
		            <field name="can_bo_id" domain="[('tram_id','=',tram_id)]"/>
                	<field name="ngay_kiem_tra" />
                    <field name="quan_huyen_id" />
                    <field name="phuong_xa_id" />
                    <field name="khu_pho_id" />                    
                    <field name="ten_ho_id" />
                    <field name="loai" invisible = '1'/>
                    <field name="trang_thai_id" />
                    <field name="hien_an" invisible = '1'/>
                    <field name="chinh_sua_rel" invisible = '1'/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="xuat_canh_giasuc_form">
            <field name="name">xuat.canh.giasuc.form</field>
            <field name="model">nhap.xuat.canh.giasuc</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Xuất động vật" version="7.0">
                	<header>
	            		<button name="bt_duyet" groups = "green_erp_ccty_nhapxuatquacanh.group_nhapxuat_manager" attrs="{'invisible': [('hien_an', '!=', True)]}" string="Duyệt" type="object" class="oe_highlight" />
	                    <field name="trang_thai_id" widget="statusbar"/>
	            	</header> 
	                <sheet>
                		<group col="4" >
                			<field name="name" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                	<field name="loai_id" options="{'create': false, 'create_edit': false}" on_change = "onchange_chon_loai(loai_id)" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		            		<field name="ngay_cap" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		            		<field name="can_bo_ghi_so" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		            		<field name="company_id" readonly = '1' string = 'Trạm' attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                	<field name="can_bo_id" readonly = '1' domain="[('company_id','=',company_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                	<field name="ngay_kiem_tra" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                    <newline/>
		                    <field name="quan_huyen_id" options="{'create': false, 'create_edit': false}" on_change="onchange_quan_huyen()" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                    <field name="phuong_xa_id" options="{'create': false, 'create_edit': false}" on_change="onchange_phuong_xa()" domain="[('quan_huyen_id','=',quan_huyen_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                    <field name="khu_pho_id" options="{'create': false, 'create_edit': false}" on_change="onchange_khu_pho()" domain="[('phuong_xa_id','=',phuong_xa_id), ('quan_huyen_id','=',quan_huyen_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                    <field name="ten_ho_id" options="{'create': false, 'create_edit': false}" context="{'search_ten_ho_id':True}" domain="[('quan_huyen_id','=',quan_huyen_id), ('phuong_xa_id','=',phuong_xa_id), ('khu_pho_id','=',khu_pho_id)]" attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}"/>
		                    <field name="loai" invisible = '1'/>
		                    <field name="hien_an" invisible = '1'/>
		                    <field name="chinh_sua_rel" invisible = '1'/>
                		</group>
                		<notebook>
							<page string = "Thông tin chi tiết Xuất động vật">
								<field name="chitiet_loai_nx" nolabel='1' attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}">
									<tree editable='bottom' create = 'false'>
										<field name="name"/>
										<field name="so_luong" sum = 'Total'/>
									</tree>
								</field>
							</page>
							<page string = "Đã tiêm phòng">
								<field name="chitiet_da_tiem_phong" nolabel='1' attrs="{'readonly': [('chinh_sua_rel', 'not in', ['nhap', False])]}">
									<tree editable='bottom' create = 'false'>
										<field name="name"/>
										<field name="so_luong" sum = 'Total'/>
									</tree>
								</field>
							</page>
						</notebook>
	                </sheet>
                </form>
            </field>
        </record>
       
        <record model="ir.actions.act_window" id="action_xuat_canh_giasuc">
            <field name="name">Xuất động vật</field>
            <field name="res_model">nhap.xuat.canh.giasuc</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('loai', '=', 'xuat')]</field>
            <field name="context">{'default_loai':'xuat'}</field>
            <field eval="False" name="view_id" ref="xuat_canh_giasuc_tree"/>
        </record>
        
        <record id="action_xuat_canh_giasuc1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="xuat_canh_giasuc_tree"/>
            <field name="act_window_id" ref="action_xuat_canh_giasuc"/>
        </record>
        <record id="action_xuat_canh_giasuc2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="xuat_canh_giasuc_form"/>
            <field name="act_window_id" ref="action_xuat_canh_giasuc"/>
        </record>
        			
    </data>
</openerp>
